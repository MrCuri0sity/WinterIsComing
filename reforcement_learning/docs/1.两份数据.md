###关宁matchmaking data explore
#### 1.两份数据
**guanning\_result:**<br>
来源：qndb.h\_guanning\_result<br>
时间段: 2018-01-13 到 	2018-02-26<br>
字段： iid, sever\_id, time, id, score, isWin<br>
行数：5,684,144<br>

**capability:**<br>
来源：hdfs<br>
时间段: 2018-01-13 到 	2018-02-26<br>
字段：time, 玩家Id，等级，职业，装备总评分，装备基本评分，石之灵评分，强化评分，修为，修炼，出战灵兽评分，附体灵兽评分，背包法宝评分，帮会法宝，家园祈福，家园传家宝，额外属性，成长，装备法宝<br>
行数：11,777,981<br>
#### 2.数据处理
**join**: 根据id和timejoin数据guanning\_result和capability，规则是id相同，发生时间差 < 120s。<br>
**还原关宁**: 根据(scene\_id, sever_id)对数据做group，过滤掉人数不为40的场次，最后得到关宁比赛41,460场，其中该有9场平局（isWin=0）。

#### 3.data explore
3.1 关宁得分分差统计<br>
计算方法：胜利队伍的平均关宁得分减去失败队伍的平均关宁得分。<br>
所有关宁场次统计结果如下：<br>


|winnersAvg - losersAvg|场次|占比
|:-----|:------|:----|
|-100 ~ -80| 2|<0.0001|
|-80 ~ -60| 2|<0.0001|
|-60 ~ -40| 13|0.0003|
|-40 ~ -20| 54|0.0013|
|-20 ~ 20| 1745|0.0421|
|20 ~ 40| 4507|0.1087
|40 ~ 60| 9504|0.2292|
|60 ~ 	80| 10346|0.2495|
|80 ~ 100| 7475|0.1803|
|100 ~ 120| 4407|0.1063|
|120 ~ 140| 2138|0.0516|
|140 ~ 160| 841|0.0203|
|160 ~ 180| 307|0.0074|	
|180 ~ 200| 83|0.0020|
|200 ~ 220| 20|0.0005|
|220 ~ 240| 6|0.0001|
|260 ~ 280| 1|<0.0001|

3.2 能力值和关宁得分分差相关性统计<br>
计算得到各个能力值和关宁得分平均分差pearson相关性结果如下：<br>

|属性名称|pearson * 1000|
|:---|:---|
装备总评分|136|
装备基本评分|72|
石之灵评分|97|
强化评分|80|
修为|86|
修炼|63|
出战灵兽评分|54|
附体灵兽评分|94|
背包法宝评分|85|
帮会法宝|18|
家园祈福|54|
家园传家宝|88|
额外属性|84|
成长|-5|
装备法宝|66|
elo值|158|

pearson相关系数大于0.5的认为是强相关，表中属性没有大于0.5的，因此都呈现弱相关。




